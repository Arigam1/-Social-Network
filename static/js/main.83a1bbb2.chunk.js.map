{"version":3,"sources":["components/api/api.js","redux/dialogs-reducer.js","components/common/Paginator/Paginator.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","reportWebVitals.js","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/News/News.jsx","components/utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/1.jpg","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","components/hoc/withSuspense.js","App.js","index.js","assets/images/loader.svg","components/common/Preloader/Preloader.js","components/utils/validators/validators.js","components/Users/Users.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","captchaURL","SEND_MESSAGE","initialState","dialogs","name","id","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","component","validate","text","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","s","nav","item","to","activeClassName","active","Music","Settings","News","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","useState","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","paginator","justBtn","onClick","p","cn","selectedPage","pageNumber","e","User","user","src","photos","small","userPhoto","disabled","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","bind","page","totalCount","Header","style","header","loginBlock","isAuth","SET_USER_DATA","GET_CAPTCHA","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","login_forms","login_form","required","formSummoryError","length","stopSubmit","_error","login_header","INITIALIZED_SUCCSESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","dialogsPage","profilePage","profileReducer","sidebat","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializedApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","getUserStatus","alert","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.83a1bbb2.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"349d41a8-bede-4423-bc93-d8a5409e9908\",\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => {\r\n        // ЭТО ПРОМИС! ! ! ! сокращает путь) чтоб компонента не брала лишнюю инфу\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n\r\n  getProfile(userId) {\r\n    console.warn('Obsolete method. Please profileAPI object.')\r\n    return profileAPI.getProfile(userId);\r\n  }\r\n};\r\n\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId)\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status })\r\n  },\r\n\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    })\r\n  },\r\n\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile)\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post('auth/login', { email, password, rememberMe, captcha })\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete('auth/login')\r\n  }\r\n};\r\n\r\nexport const securityAPI = {\r\n  captchaURL() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  }\r\n}","const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { name: \"Ari\", id: 1 },\r\n        { name: \"Solla\", id: 2 },\r\n        { name: \"Marie\", id: 3 },\r\n        { name: \"Loli\", id: 4 },\r\n        { name: \"Vova\", id: 5 },\r\n    ],\r\n    messages: [\r\n        { message: '1st', id: 1 },\r\n        { message: '2nd', id: 2 },\r\n        { message: '3rd', id: 3 },\r\n        { message: 'fff', id: 4 },\r\n        { message: '1st', id: 5 },\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { message: body, id: 6 }]\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3c4Eq\",\"pageNumber\":\"Paginator_pageNumber__2YCDU\",\"selectedPage\":\"Paginator_selectedPage__17NUT\",\"justBtn\":\"Paginator_justBtn__14M-1\",\"loginBlock\":\"Paginator_loginBlock__1UkGf\",\"addMessageForm\":\"Paginator_addMessageForm__3zzvU\",\"headerLogin\":\"Paginator_headerLogin__2dnRc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2dtPY\",\"item\":\"Navbar_item__nPDxa\",\"active\":\"Navbar_active__3BDQc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3mE3N\",\"error\":\"FormsControls_error__1nh-u\",\"formSummoryError\":\"FormsControls_formSummoryError__dd01Y\",\"login_header\":\"FormsControls_login_header__2uf3x\",\"login_forms\":\"FormsControls_login_forms__3aF76\",\"login_form\":\"FormsControls_login_form__1W_W-\"};","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\nimport { Field } from 'redux-form'\r\n\r\n\r\nexport const FormControl = ({ input, meta: { touched, error }, children }) => {\r\n\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, component, validate, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n            name={name}\r\n            component={component}\r\n            validate={validate}\r\n            {...props} /> {text}\r\n    </div>\r\n)","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport s from \"./Navbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/profile\" activeClassName={s.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/users\" activeClassName={s.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/news\" activeClassName={s.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/music\" activeClassName={s.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/settings\" activeClassName={s.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../components/api/api\";\r\nimport { updateObjectInArray } from \"../components/utils/object-helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count,\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n    dispatch(toggleIsFetching(false));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId)\r\n  if (response.data.resultCode == 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n  };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, { useState } from 'react';\r\nimport s from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={s.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button className={s.justBtn} onClick={() => { setPortionNumber(portionNumber - 1) }}>Prev</button>}\r\n\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span className={cn({\r\n                    [s.selectedPage]: currentPage === p\r\n                }, s.pageNumber)}\r\n                    key={p}\r\n                    onClick={(e) => {\r\n                        onPageChanged(p);\r\n                    }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n            <button className={s.justBtn} onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/1.34e64648.jpg\";","import React from \"react\";\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/1.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from '../common/Paginator/Paginator.module.css'\r\n\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return <div className={styles.users}>\r\n    <span>\r\n      <div>\r\n        <NavLink to={\"/profile/\" + user.id}>\r\n          <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto} />\r\n        </NavLink>\r\n      </div>\r\n      <span>\r\n        <span>\r\n          <div>Nickname: {user.name}</div>\r\n          <div>Status: {user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>Other information...</div>\r\n        </span>\r\n      </span>\r\n      <div className={styles.follow}>\r\n        {user.followed ? (\r\n          <button className={s.justBtn} disabled={followingInProgress.some((id) => id === user.id)} onClick={() => { unfollow(user.id); }}>\r\n            unfollow\r\n          </button>)\r\n          : (<button className={s.justBtn} disabled={followingInProgress.some((id) => id === user.id)} onClick={() => { follow(user.id); }}>\r\n            follow\r\n          </button>)}\r\n      </div>\r\n    </span>\r\n  </div>\r\n}\r\n\r\n\r\nexport default User;","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props }) => {\r\n  return <div>\r\n    <div>\r\n      {\r\n        users.map(u => <User user={u}\r\n          followingInProgress={props.followingInProgress}\r\n          key={u.id}\r\n          unfollow={props.unfollow}\r\n          follow={props.follow}\r\n        />\r\n        )\r\n      }\r\n    </div>\r\n    <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n      totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n  </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n};\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n        return users.filter(u => true);\r\n    });\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  unfollow,\r\n  follow,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  requestUsers,\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const { pageSize } = this.props;\r\n    this.props.getUsers(pageNumber, pageSize);\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          users={this.props.users}\r\n          onPageChanged={this.onPageChanged}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\n// export default withAuthRedirect(connect(mapStateToProps, {\r\n//   followSuccess,\r\n//   unfollowSuccess,\r\n//   setCurrentPage,\r\n//   toggleFollowingProgress,\r\n//   requestUsers,\r\n// })(UsersContainer));\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow, unfollow,\r\n    setCurrentPage, toggleFollowingProgress, getUsers: requestUsers\r\n  })\r\n)(UsersContainer)","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"./Header.module.css\";\r\nimport s from '../common/Paginator/Paginator.module.css'\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={style.header}>\r\n      <img src=\"https://cdn.logo.com/hotlink-ok/logo-social.png\" />\r\n      <div className={style.loginBlock}>\r\n        {\" \"}\r\n        {props.isAuth\r\n          ? <div>{props.login} - <button className={s.justBtn} onClick={props.logout}>Log out</button></div>\r\n          : <div><NavLink to={\"/login\"} className={style.login}><button className={s.justBtn}>Login</button></NavLink></div>}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityAPI } from \"../components/api/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst GET_CAPTCHA = \"GET_CAPTCHA\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA,\r\n  payload: { captchaUrl },\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.me()\r\n  if (response.data.resultCode === 0) {\r\n    let { id, login, email } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, isAuth, captcha) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe, isAuth, captcha)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl())\r\n    }\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n    dispatch(stopSubmit('login', { _error: message }))\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout()\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.captchaURL();\r\n  const captchaUrl = response.data.url;\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n\r\n}\r\n\r\nexport default authReducer;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/auth-reducer\";\r\nimport { compose } from \"redux\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\n// export default connect(mapStateToProps, { getAuthUserData })(HeaderContainer);\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { logout }),\r\n)(HeaderContainer);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { reduxForm } from 'redux-form'\r\nimport { createField, Input } from '../common/FormsControls/FormsControls'\r\nimport { required } from '../utils/validators/validators'\r\nimport { login } from '../../redux/auth-reducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport style from '../common/FormsControls/FormsControls.module.css'\r\nimport s from '../common/Paginator/Paginator.module.css'\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={style.login_forms}>\r\n            <div className={style.login_form}>{createField('Email', \"email\", Input, [required])}</div>\r\n            <div className={style.login_form}>{createField('Password', \"password\", Input, [required], { type: \"password\" })}</div>\r\n            <div className={style.login_form}>{createField(null, \"rememberMe\", Input, [], { type: \"checkbox\" }, \"REMEMBER ME\")}</div>\r\n\r\n\r\n            {captchaUrl && <img src={captchaUrl} />}\r\n            <div className={style.login_form}>{captchaUrl && createField(\"symbols by image\", \"captcha\", Input, [required], {})}</div>\r\n\r\n            {error && <div className={style.formSummoryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div className={s.loginBlock}>\r\n                <button className={s.justBtn}>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) return <Redirect to={\"/profile\"} />;\r\n\r\n    return <div>\r\n\r\n        <h1 className={style.login_header}>LOGIN</h1>\r\n        <div className={style.login_forms}>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n        </div>\r\n    </div>\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCSESS = \"INITIALIZED_SUCCSESS\";\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCSESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCSESS });\r\n\r\n\r\nexport const initializedApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    //dispatch(someelse)\r\n    //dispatch(someelse)\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        })\r\n};\r\n\r\n// export const login = (email, password, rememberMe, isAuth) => (dispatch) => {\r\n//     authAPI.login(email, password, rememberMe, isAuth).then((response) => {\r\n//         if (response.data.resultCode === 0) {\r\n//             dispatch(getAuthUserData());\r\n//         } else {\r\n//             let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n//             dispatch(stopSubmit('login', { _error: message }))\r\n//         }\r\n//     });\r\n// };\r\n\r\n// export const logout = () => {\r\n//     return (dispatch) => {\r\n//         authAPI.logout().then((response) => {\r\n//             if (response.data.resultCode === 0) {\r\n//                 dispatch(setAuthUserData(null, null, null, false));\r\n//             }\r\n//         });\r\n//     };\r\n// };\r\n\r\nexport default appReducer;\r\n","let initialState = {\r\n\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state; \r\n}\r\n\r\nexport default sidebarReducer;","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  dialogsPage: dialogsReducer,\r\n  profilePage: profileReducer,\r\n  sidebat: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store;\r\n","import React, { Suspense } from 'react';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader />} >\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport News from \"./components/News/News\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { initializedApp } from \"./redux/app-reducer\"\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from './redux/redux-store';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { withSuspense } from \"./components/hoc/withSuspense\";\r\n\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initializedApp();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Switch>\r\n            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n            <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} /> {/*  // ? - типо этот параметр  не обязателен (UserId*/}\r\n            <Route path=\"/login\" render={() => <Login />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n            <Route path=\"/news\" render={() => <News />} />\r\n            <Route path=\"/music\" render={() => <Music />} />\r\n            <Route path=\"/settings\" render={() => <Settings />} />\r\n            <Route path=\"*\" render={() => <div>404</div>} />\r\n            <Redirect to=\"/profile\" />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.initialized\r\n  }\r\n}\r\n\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializedApp }),\r\n)(App);\r\n\r\n\r\n// использую хэшроутер потомучто есть деплой на гитхате! в других проектах броузерроутер\r\nconst MainApp = (props) => {\r\n  return <BrowserRouter>\r\n    <Provider store={store}>\r\n      <AppContainer />\r\n    </Provider>\r\n  </BrowserRouter>\r\n};\r\n\r\nexport default MainApp;\r\n\r\n// типо этот параметр  не обязателен\r\n","import reportWebVitals from './reportWebVitals';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainApp from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <MainApp />,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export default __webpack_public_path__ + \"static/media/loader.b767aab4.svg\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/loader.svg\";\r\n\r\nlet Preloader = () => {\r\n  return (\r\n    <div>\r\n      <img src={preloader} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1bIi8\",\"users\":\"Users_users__cgws6\",\"follow\":\"Users_follow__3aFCh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1rdIB\",\"loginBlock\":\"Header_loginBlock__3WgCo\",\"login\":\"Header_login__S4SvS\"};","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI, usersAPI } from \"../components/api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hi, how a u?\", likesCount: 10 },\r\n    { id: 2, message: \"Hi, goood\", likesCount: 1000 },\r\n    { id: 3, message: \"Yahoooo\", likesCount: 500 },\r\n  ],\r\n  profile: null,\r\n  status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      };\r\n\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id != action.postId),\r\n      };\r\n\r\n    case SAVE_PHOTO_SUCCESS:\r\n      debugger\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n    // stateCopy.newPostText = action.newText;\r\n    // return stateCopy;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const response = await usersAPI.getProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  try {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  } catch (error) {\r\n    alert('не повезло)))')\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\r\n  let response = await profileAPI.savePhoto(file);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n\r\n  let response = await profileAPI.saveProfile(profile)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getUserProfile(userId));\r\n  } else {\r\n    dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0] }));\r\n    return Promise.reject(response.data.messages[0]);\r\n  }\r\n};\r\n\r\n\r\n\r\n// export const unfollow = (userId) => {\r\n//   return (dispatch) => {\r\n//     dispatch(toggleFollowingProgress(true, userId));\r\n//     usersAPI.unfollow(userId).then((response) => {\r\n//       if (response.data.resultCode == 0) {\r\n//         dispatch(unfollowSuccess(userId));\r\n//       }\r\n//       dispatch(toggleFollowingProgress(false, userId));\r\n//     });\r\n//   };\r\n// };\r\n\r\n// usersAPI.setProfile(userId).then((response) => {\r\n//   this.props.setUserProfile(response.data);\r\n// });\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}